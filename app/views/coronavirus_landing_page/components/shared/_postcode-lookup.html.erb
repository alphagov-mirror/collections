<%
  input_label ||= "Enter your postcode"
  input_value ||= nil
  input_error ||= "We couldnâ€™t find this postcode"
  hint_text ||= "For example SW1A 2AA"
  button_text ||= "Find"
  error_message ||= "This isn't a valid postcode."
  error_description ||= "Check it and enter it again."
  link ||= { text: "Find a postcode on Royal Mail's postcode finder", href: "http://www.royalmail.com/find-a-postcode"}
%>
<% if error_message %>
  <%= render "govuk_publishing_components/components/error_alert", {
      message: error_message,
      description: error_description,
    } %>
<% end %>
<div class="postcode-lookup">
    <%= render "govuk_publishing_components/components/input", {
          label: {
            text: input_label
          },
          heading_size: "s",
          error_message: input_error,
          value: input_value,
          name: "postcode-lookup",
          hint: hint_text,
          invalid: error_message ? 'true' : 'false',
          autocomplete: "postal-code",
        } %>
    <%= render "govuk_publishing_components/components/button", text: button_text, margin_bottom: true %>
    <%= tag.p link_to(
      link[:text],
      link[:href],
      class: "govuk-link covid__postcode-lookup--link"),
      class: "govuk-body" %>
</div>
